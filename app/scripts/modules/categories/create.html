<div class="modal-header" >
	<button type="button" class="close">
		<span class="glyphicon glyphicon-question-sign" ></span>
	</button>
    <h4 class="modal-title">Category</h4>
</div>
<form name="createController.entityForm" novalidate class="css-form form-horizontal" ng-submit="createController.ok()">
    <div class="modal-body">
        <div class="container-fluid" ng-class="{ hidden: createController.entityErrors.length > 0 } ">
            <div ng-if="!createController.isAdmin" class="form-group required">
                <label class="control-label col-sm-3">Parent category:</label>
                <div class="col-sm-8">
                    <ui-select ng-model="createController.entity.parent"
                        close-on-select="true"
                        ng-required="createController.isAdmin"
                        theme="bootstrap">
                        <ui-select-match> {{$select.selected.title}} </ui-select-match>
                        <ui-select-choices repeat="category in createController.categories">
                            <span ng-bind-html="category.title | highlight: $select.search"></span>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
            <div class="form-group required">
                <label class="control-label col-sm-3">Title:</label>
                <div class="col-sm-8">
                    <input name="name"
                           required
                           type="text"
                           ng-class="{ 'has-error': createController.entityForm.title.$dirty && createController.entityForm.title.$invalid }"
                           class="form-control first_input"
                           ng-model="createController.entity.title">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3">Description:</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" ng-model="createController.entity.description">
                </div>
            </div>
        </div>
        <div class="error-list">
            <ul ng-class="{ 'hidden': entityErrors.length == 0 }">
                <li ng-repeat="errorItem in createController.entityErrors">
                    <i class="glyphicon glyphicon-warning-sign text-warning"></i> &nbsp; {{errorItem.text}}
                </li>   
            </ul>
        </div>
    </div> <!-- modal body -->
    <div class="modal-footer">
        <!-- https://docs.angularjs.org/api/ng/directive/form#submitting-a-form-and-preventing-the-default-action -->
        <a class="btn btn-default"
           ng-click="createController.cancel()"
           ng-class="{ 'hidden': createController.entityErrors.length > 0 }">
            Cancel
        </a> <!-- van anchors porque si es button, submitea el form -->
        <button id="ok_button"
                type="submit"
                ng-class="{ 'hidden': createController.entityErrors.length > 0 }"
                ng-disabled="createController.entityForm.$invalid || createController.isClean()"
                class="btn btn-success">Save</button>
    </div>
</form>